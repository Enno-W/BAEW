<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Enno Winkler">
<meta name="keywords" content="keyword1, keyword2, keyword3">
<meta name="description" content="AFFEKT, ATTRIBUTION UND BEWEGUNGSADHÄRENZ">

<title>Was uns am Laufen hält: Vorhersagen von Bewegungsadhärenz durch Affekt und Attributionsstile</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="MD_BAEW_files/libs/clipboard/clipboard.min.js"></script>
<script src="MD_BAEW_files/libs/quarto-html/quarto.js"></script>
<script src="MD_BAEW_files/libs/quarto-html/popper.min.js"></script>
<script src="MD_BAEW_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="MD_BAEW_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="MD_BAEW_files/libs/quarto-html/quarto-syntax-highlighting-79bb3942e891885f9f7af119cd221462.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="MD_BAEW_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="MD_BAEW_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="MD_BAEW_files/libs/bootstrap/bootstrap-f6a3818b240b5c46cb5ec9e6864f238a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="_extensions/wjschne/apaquarto/apa.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#method" id="toc-method" class="nav-link active" data-scroll-target="#method">Method</a></li>
  <li><a href="#theoretischer-hintergrund" id="toc-theoretischer-hintergrund" class="nav-link" data-scroll-target="#theoretischer-hintergrund">Theoretischer Hintergrund</a>
  <ul class="collapse">
  <li><a href="#physische-aktivität" id="toc-physische-aktivität" class="nav-link" data-scroll-target="#physische-aktivität">Physische Aktivität</a></li>
  <li><a href="#stichprobe" id="toc-stichprobe" class="nav-link" data-scroll-target="#stichprobe">Stichprobe:</a></li>
  <li><a href="#durchführung" id="toc-durchführung" class="nav-link" data-scroll-target="#durchführung">Durchführung:</a></li>
  </ul></li>
  <li><a href="#methode" id="toc-methode" class="nav-link" data-scroll-target="#methode">Methode</a></li>
  <li><a href="#ergebnisse" id="toc-ergebnisse" class="nav-link" data-scroll-target="#ergebnisse">Ergebnisse</a></li>
  <li><a href="#diskussion" id="toc-diskussion" class="nav-link" data-scroll-target="#diskussion">Diskussion</a></li>
  <li><a href="#literaturverzeichnis" id="toc-literaturverzeichnis" class="nav-link" data-scroll-target="#literaturverzeichnis">Literaturverzeichnis</a></li>
  <li><a href="#anhang" id="toc-anhang" class="nav-link" data-scroll-target="#anhang">Anhang</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">




<br>

<br>

<section id="title" class="level1 title unnumbered unlisted">
<h1 class="title unnumbered unlisted">Was uns am Laufen hält: Vorhersagen von Bewegungsadhärenz durch Affekt und Attributionsstile</h1>
<div class="Author">
<br>

<p>Enno Winkler</p>
<p>Lehrgebiet Gesundheitspsychologie, Externer Betreuer Dr.&nbsp;Sascha Leisterer (Humboldt-Universität zu Berlin), Fernuniversität Hagen</p>
</div>
</section>
<section id="author-note" class="level1 unnumbered unlisted AuthorNote">
<h1 class="unnumbered unlisted AuthorNote">Author Note</h1>
<p>Enno Winkler <img src="_extensions/wjschne/apaquarto/ORCID-iD_icon-vector.svg" id="orchid" class="img-fluid" style="width:4.23mm" alt="Orcid ID Logo: A green circle with white letters ID"> http://orcid.org/0000-0000-0000-0001</p>
<p></p>
</section>
<section id="abstract" class="level1 unnumbered unlisted AuthorNote">
<h1 class="unnumbered unlisted AuthorNote">Zusammenfassung</h1>
<div class="AbstractFirstParagraph">
<p>This document is a template.</p>
</div>
<p><em>Schlüsselwörter</em>: keyword1, keyword2, keyword3</p>
</section>
<section id="firstheader" class="level1 title unnumbered unlisted">
<h1 class="title unnumbered unlisted">Was uns am Laufen hält: Vorhersagen von Bewegungsadhärenz durch Affekt und Attributionsstile</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>Binder</figcaption>
<p><a href="https://mybinder.org/v2/gh/Enno-W/BAEW/HEAD"><img src="https://mybinder.org/badge_logo.svg" class="img-fluid figure-img" alt="Binder"></a></p>
</figure>
</div>
</section>
<section id="method" class="level1">
<h1>Method</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="MD_BAEW_files/figure-html/Running%20scripts-1.svg" class="img-fluid figure-img" width="624"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="theoretischer-hintergrund" class="level1">
<h1>Theoretischer Hintergrund</h1>
<p>Ziel der Vereinten Nationen ist, die Sterblichkeit durch nicht übertragbare Krankheiten, die unter anderem durch einen inaktiven Lebensstil begünstigt werden, bis zum Jahr 2030 um 30 Prozent zu senken <span class="citation" data-cites="assembly2017resolution">(<a href="#ref-assembly2017resolution" role="doc-biblioref">United Nations General Assembly, 2017</a>)</span>. Nur etwa 26% der erwachsenen Bevölkerung in Deutschland erreicht das empfohlene Aktivitätsniveau der WHO in Bezug auf Muskel- und Ausdauertraining <span class="citation" data-cites="RKI_2022">(<a href="#ref-RKI_2022" role="doc-biblioref">Robert Koch-Institut, 2022</a>)</span>. Zur Bewegungsförderung gehört auch, dass bereits Aktive dieses Verhalten aufrechterhalten und ausbauen. Das Rückfallmodell von <span class="citation" data-cites="Marlatt1984">Marlatt and George (<a href="#ref-Marlatt1984" role="doc-biblioref">1984</a>)</span> beleuchtet die Mechanismen der Aufrechterhaltung von Gesundheitsverhalten und ist auch im Kontext von Sport und Bewegung erklärungsmächtig <span class="citation" data-cites="Marcus1997">(<a href="#ref-Marcus1997" role="doc-biblioref">Marcus et al., 1997</a>)</span>. Das Modell wurde in Bezug auf Populationen mit bewegungsarmer Lebensweise <span class="citation" data-cites="Marcus1993 Martin1984">(<a href="#ref-Marcus1993" role="doc-biblioref">Marcus &amp; Stanton, 1993</a>; <a href="#ref-Martin1984" role="doc-biblioref">Martin et al., 1984</a>)</span>; und bereits aktive Populationen <span class="citation" data-cites="Stetson2005">(<a href="#ref-Stetson2005" role="doc-biblioref">Stetson et al., 2005</a>)</span> angewendet. Innerhalb dieses Modells ist die wichtige Rolle der Selbstwirksamkeit bereits gut untersucht, in Bezug auf andere Variablen ist die Studienlage allerdings noch dünn <span class="citation" data-cites="Amireault2013">(<a href="#ref-Amireault2013" role="doc-biblioref">Amireault et al., 2013</a>)</span>. <span class="citation" data-cites="Marlatt1984">Marlatt and George (<a href="#ref-Marlatt1984" role="doc-biblioref">1984</a>)</span> erklären in ihrem Modell, dass Rückfälle vor allem durch den Umgang mit Hochrisikosituationen erklärt werden können. Dabei sei negatives Gefühlserleben der häufigste Auslöser einer Hochrisikosituation. Ob es nun zu einem Aussetzer oder zu einen kompletten Rückfall kommt, hängt zudem laut des Modells von <span class="citation" data-cites="Marlatt1984">Marlatt and George (<a href="#ref-Marlatt1984" role="doc-biblioref">1984</a>)</span> wesentlich von der Ursachenzuschreibung auf das vergangene Verhalten ab, und zwar sollte sich eine internal-variable Kontrollüberzeugung positiv auswirken. Wenn negatives Gefühlserleben und eine undienliche Attribution nach einem Ausrutscher häufiger zu Rückfällen fühlen, dann sollten ein tendenziell negatives Affekterleben und ein external - stabiler Attributionsstil schlechtere Trainingsadhärenz und mehr Rückfälle vorhersagen.</p>
<p>In dieser Bachelorarbeit soll also untersucht werden, inwiefern der Attributionsstil und das dispositionelle Affekterleben die Trainingsadhärenz vorhersagen.</p>
<p>Die Hypothesen lauten:</p>
<p>H1: Ein internal - variabler Attributionsstil sagt weniger Trainingsausfälle (H1.1), sowie eine geringere Diskrepanz zwischen Kilometerziel und tatsächlich gelaufenen Kilometern vorher (H1.2)</p>
<p>H2: Ein tendenziell negativeres Affekterleben sagt mehr Trainingsausfälle (H2.1) und eine höhere negative Diskrepanz zwischen Kilometerziel und tatsächlich gelaufenen Kilometern vorher (H2.2). Außerdem steht negativerer Affekt nach der Trainingseinheit mit einer höheren Kilometer-Diskrepanz in Zusammenhang.</p>
<p>Explorativ möchte ich untersuchen, ob der Attributionsstil mit den Affektangaben nach jeder Trainingseinheit in einem Zusammenhang steht.</p>
<section id="physische-aktivität" class="level2">
<h2 data-anchor-id="physische-aktivität">Physische Aktivität</h2>
<ul>
<li><p>Definition PA</p></li>
<li><p>Gesundheitliche Vorteile PA</p></li>
<li><p>Empfohlene PA</p></li>
<li><p>Sportmangel Prävalenz</p></li>
<li><p>Zusammenhang Bewegungsmangel - Krankheiten</p></li>
<li><p>Messmethoden allgemein –&gt; Vorteile von Session RPE</p></li>
</ul>
</section>
<section id="stichprobe" class="level2">
<h2 data-anchor-id="stichprobe">Stichprobe:</h2>
<p>Daten von aktiven, erwachsenen Freizeitsportler:innen (Alter ± Standardabweichung: 35.85 ± 12.89 Jahre; 6 weiblich; 12 männlich; 3 divers) liegen bereits aus dem Forschungsprojekt vor.</p>
</section>
<section id="durchführung" class="level2">
<h2 data-anchor-id="durchführung">Durchführung:</h2>
<p>Die Freizeitsportler:innen berichteten vor der Studie ihr generelles Affekterleben innerhalb der letzten zehn Tage mit der Positive and Negative Affect-Scale (PANAS) von <span class="citation" data-cites="Watson1988">Watson et al. (<a href="#ref-Watson1988" role="doc-biblioref">1988</a>)</span>. Der Prä-Test enthielt außerdem die Skala von <span class="citation" data-cites="Peterson1982">Peterson et al. (<a href="#ref-Peterson1982" role="doc-biblioref">1982</a>)</span> zum Attributionsstil und die Items zu demografischen Daten.</p>
<p>Darauf folgte die Trainingsphase, in der die Trainierenden über einen Zeitraum von maximal zwei Monaten sechs Trainingseinheiten dokumentieren sollten. In den Befragungen dazu wurde nach einer Trainingseinheit die wahrgenommene Trainingsintensität mithilfe des Session-RPE-Fragebogens von <span class="citation" data-cites="Foster2021">Foster et al. (<a href="#ref-Foster2021" role="doc-biblioref">2021</a>)</span> erfasst. Nach jeder Trainingseinheit wurde der Affekt mit der PANAS erhoben. Außerdem wurde das Kilometerziel sowie die Dauer des Laufs und die tatsächlich erreichten Kilometer erfasst. Bezüglich des Vorgehens beim Verfassen der Arbeit ist ein Zeitplan am Ende des Dokuments angehängt. <span class="citation" data-cites="Amireault2013">(<a href="#ref-Amireault2013" role="doc-biblioref">Amireault et al., 2013</a>)</span></p>
</section>
</section>
<section id="methode" class="level1">
<h1>Methode</h1>
<p>Instrumente: Session RPE, Attributionsstil, PANAS</p>
</section>
<section id="ergebnisse" class="level1">
<h1>Ergebnisse</h1>
</section>
<section id="diskussion" class="level1">
<h1>Diskussion</h1>
</section>
<section id="literaturverzeichnis" class="level1">
<h1>Literaturverzeichnis</h1>
<!-- References will auto-populate in the refs div below -->
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-Amireault2013" class="csl-entry" role="listitem">
Amireault, S., Godin, G., &amp; Vézina-Im, L.-A. (2013). Determinants of physical activity maintenance: a systematic review and meta-analyses. <em>Health Psychology Review</em>, <em>7</em>(1), 55–91. <a href="https://doi.org/10.1080/17437199.2012.701060">https://doi.org/10.1080/17437199.2012.701060</a>
</div>
<div id="ref-Foster2021" class="csl-entry" role="listitem">
Foster, C., Boullosa, D., McGuigan, M., Fusco, A., Cortis, C., Arney, B. E., Orton, B., Dodge, C., Jaime, S., Radtke, K., Erp, T. van, Koning, J. J. de, Bok, D., Rodriguez-Marroyo, J. A., &amp; Porcari, J. P. (2021). 25 Years of Session Rating of Perceived Exertion: Historical Perspective and Development. <em>International Journal of Sports Physiology and Performance</em>, <em>16</em>(5), 612–621. <a href="https://doi.org/10.1123/ijspp.2020-0599">https://doi.org/10.1123/ijspp.2020-0599</a>
</div>
<div id="ref-Marcus1997" class="csl-entry" role="listitem">
Marcus, B. H., Bock, B. C., &amp; Pinto, B. M. (1997). Initiation and Maintenance of Exercise Behavior. In <em>Handbook of Health Behavior Research II</em> (S. 335–352). Springer US. <a href="https://doi.org/10.1007/978-1-4899-1760-7_18">https://doi.org/10.1007/978-1-4899-1760-7_18</a>
</div>
<div id="ref-Marcus1993" class="csl-entry" role="listitem">
Marcus, B. H., &amp; Stanton, A. L. (1993). Evaluation of Relapse Prevention and Reinforcement Interventions to Promote Exercise Adherence in Sedentary Females. <em>Research Quarterly for Exercise and Sport</em>, <em>64</em>(4), 447–452. <a href="https://doi.org/10.1080/02701367.1993.10607598">https://doi.org/10.1080/02701367.1993.10607598</a>
</div>
<div id="ref-Marlatt1984" class="csl-entry" role="listitem">
Marlatt, G. A., &amp; George, W. H. (1984). Relapse Prevention: Introduction and Overview of the Model. <em>British Journal of Addiction</em>, <em>79</em>(4), 261–273. <a href="https://doi.org/10.1111/j.1360-0443.1984.tb03867.x">https://doi.org/10.1111/j.1360-0443.1984.tb03867.x</a>
</div>
<div id="ref-Martin1984" class="csl-entry" role="listitem">
Martin, J. e., Dubbert, P. M., Katell, A. D., Thompson, J. K., Raczynski, J. R., Lake, M., Smith, P. O., Webster, J. S., Sikora, T., &amp; Cohen, R. E. (1984). Behavioral control of exercise in sedentary adults: Studies 1 through 6. <em>Journal of Consulting and Clinical Psychology</em>, <em>52</em>(5), 795–811. <a href="https://doi.org/10.1037/0022-006x.52.5.795">https://doi.org/10.1037/0022-006x.52.5.795</a>
</div>
<div id="ref-Peterson1982" class="csl-entry" role="listitem">
Peterson, C., Semmel, A., Baeyer, C. von, Abramson, L. Y., Metalsky, G. I., &amp; Seligman, M. E. P. (1982). The attributional Style Questionnaire. <em>Cognitive Therapy and Research</em>, <em>6</em>(3), 287–299. <a href="https://doi.org/10.1007/bf01173577">https://doi.org/10.1007/bf01173577</a>
</div>
<div id="ref-RKI_2022" class="csl-entry" role="listitem">
Robert Koch-Institut. (2022). <em><span>Dashboard zu Gesundheit in Deutschland aktuell - GEDA 2019/2020</span></em>. Robert Koch-Institut. <a href="https://doi.org/10.25646/9362">https://doi.org/10.25646/9362</a>
</div>
<div id="ref-Stetson2005" class="csl-entry" role="listitem">
Stetson, B. A., Beacham, A. O., Frommelt, S. J., Boutelle, K. N., Cole, J. D., Ziegler, C. H., &amp; Looney, S. W. (2005). Exercise slips in high-risk situations and activity patterns in long-term exercisers: An application of the relapse prevention model. <em>Annals of Behavioral Medicine</em>, <em>30</em>(1), 25–35. <a href="https://doi.org/10.1207/s15324796abm3001_4">https://doi.org/10.1207/s15324796abm3001_4</a>
</div>
<div id="ref-assembly2017resolution" class="csl-entry" role="listitem">
United Nations General Assembly. (2017). <span>Resolution adopted by the General Assembly on 6 July 2017</span>. In <em>Technical Report A/RES/71/313</em>.
</div>
<div id="ref-Watson1988" class="csl-entry" role="listitem">
Watson, D., Clark, L. A., &amp; Tellegen, A. (1988). Development and validation of brief measures of positive and negative affect: The PANAS scales. <em>Journal of Personality and Social Psychology</em>, <em>54</em>(6), 1063–1070. <a href="https://doi.org/10.1037/0022-3514.54.6.1063">https://doi.org/10.1037/0022-3514.54.6.1063</a>
</div>
</div>
</section>
<section id="anhang" class="level1">
<h1>Anhang</h1>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>